---
const { posts } = Astro.props
const formatDate = (date: Date) => date.toISOString().split('T')[0]
---

<div class="flex flex-col w-fit -mt-1 mb-4">
  {
    posts.length > 0 ? (
      posts.map((post: (typeof posts)[number]) => {
        const link = `/posts/${post.slug}`
        return (
          <a
            href={link}
            class="transition-colors ease-in duration-200 inline-flex hover:bg-pink-100 rounded-lg py-1 px-4 -ml-4"
          >
            <div>{formatDate(post.data.created)}</div>
            <h3 class="inline m-0 pl-6 font-normal">{post.data.title}</h3>
          </a>
        )
      })
    ) : (
      <small>
        Err... Nothing to see here yet, or some integration went bust! 🐛
      </small>
    )
  }
</div>
